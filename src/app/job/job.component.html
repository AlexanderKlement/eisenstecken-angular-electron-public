<app-toolbar title="AuftrÃ¤ge" [buttonList]="buttons"></app-toolbar>
<div class="window-container">
  <div fxLayout="row" fxLayoutAlign="end center">
    <mat-form-field appearance="fill">
      <mat-label>Jahr</mat-label>
      <mat-select [(value)]="selectedYear" (valueChange)="this.yearChanged()">
        @if ($year |async; as years) {
          @for (year of years; track year) {
            <mat-option [value]="year">
              {{ year }}
            </mat-option>
          }
        }
      </mat-select>
    </mat-form-field>
  </div>
  <mat-tab-group selectedIndex="1">
    <mat-tab label="Erstellt">
      <app-table-builder [$refresh]="$refresh" [dataSource]="createdJobDataSource"></app-table-builder>
    </mat-tab>
    <mat-tab label="Angenommen">
      <app-table-builder [$refresh]="$refresh" [dataSource]="acceptedJobDataSource"></app-table-builder>
    </mat-tab>
    <mat-tab label="Fertig">
      <app-table-builder [$refresh]="$refresh" [dataSource]="finishedJobDataSource"></app-table-builder>
    </mat-tab>
    <mat-tab label="Abgelehnt">
      <app-table-builder [$refresh]="$refresh" [dataSource]="declinedJobDataSource"></app-table-builder>
    </mat-tab>
    <mat-tab label="Lager">
      <app-table-builder [$refresh]="$refresh" [dataSource]="stockTableDataSource"></app-table-builder>
    </mat-tab>
  </mat-tab-group>
</div>
