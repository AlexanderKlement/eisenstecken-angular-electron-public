<h1 mat-dialog-title>{{title}}</h1>
<div mat-dialog-content>
    <div fxFlexAlign="center">
        <p><strong>Aufzuteilen: {{availableHoursString}}</strong></p>
    </div>
    <div *ngIf="showMaintenance">
        <p>Instandhaltung: {{getMinutesFromMaintenance()}}</p>
        <div fxLayout="row" fxLayoutAlign="space-between center" fxFlexFill
             class="additional-hours">
            <button mat-raised-button aria-label="1 Stunde abziehen"
                    (click)="addMinutesToMaintenance(-60)">
                -1 h
            </button>
            <button mat-raised-button aria-label="15 Minuten abziehen"
                    (click)="addMinutesToMaintenance(-15)">
                -15 min
            </button>
            <button mat-raised-button aria-label="15 Minuten abziehen"
                    (click)="addMinutesToMaintenance(15)">
                +15 min
            </button>
            <button mat-raised-button aria-label="1 Stunde abziehen"
                    (click)="addMinutesToMaintenance(60)">
                +1 h
            </button>
        </div>
    </div>
    <div *ngIf="showClients">
        <mat-stepper linear="true" #stepper [orientation]="stepperOrientation" [selectedIndex]="selectedStepperIndex">
            <mat-step>
                <ng-template matStepLabel class="step-header">Auftrag ausw√§hlen</ng-template>
                <form [formGroup]="jobFormGroup">
                    <div fxLayout="column" fxLayoutAlign="space-around center" fxLayout.gt-sm="row">
                        <div fxLayout="column" fxLayoutAlign="start center"
                             *ngFor="let jobList of getAllJobs(); let j = index" class="desktop-min-width">
                            <h4>{{getJobListName(j)}}</h4>
                            <div class="jobs-list" fxLayout="column" fxLayoutAlign="space-between center" fxFlexFill>
                                <div *ngFor="let job of jobList.controls; let i = index">
                                    <div fxLayout="column" fxLayoutAlign="space-around start">
                                        <div>
                                            <p (click)="jobClicked(i, j)"><strong>{{getNameFromJob(i, j)}}</strong></p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </mat-step>
            <mat-step>
                <ng-template matStepLabel class="step-header">Stunden eintragen</ng-template>
                <div>
                    <p [innerHTML]="getMinutesStringFromJob(selectedJobIndex,false, selectedJobList)"></p>
                </div>
                <div fxLayout="row" fxLayoutAlign="space-between center" class="desktop-min-width">
                    <button mat-raised-button aria-label="1 Stunde abziehen"
                            (click)="addMinutesToJob(-60, selectedJobIndex, false, selectedJobList)">
                        -1 h
                    </button>
                    <button mat-raised-button aria-label="15 Minuten abziehen"
                            (click)="addMinutesToJob(-15, selectedJobIndex, false, selectedJobList)">
                        -15 min
                    </button>
                    <button mat-raised-button aria-label="15 Minuten abziehen"
                            (click)="addMinutesToJob(15,  selectedJobIndex, false, selectedJobList)">
                        +15 min
                    </button>
                    <button mat-raised-button aria-label="1 Stunde abziehen"
                            (click)="addMinutesToJob(60, selectedJobIndex, false, selectedJobList)">
                        +1 h
                    </button>
                </div>
                <p class="blue" [innerHTML]="getMinutesStringFromJob(selectedJobIndex,true, selectedJobList)"></p>
                <div fxLayout="row" fxLayoutAlign="space-between center" class="desktop-min-width">
                    <button mat-raised-button aria-label="1 Stunde abziehen"
                            (click)="addMinutesToJob(-60, selectedJobIndex, true, selectedJobList)">
                        -1 h
                    </button>
                    <button mat-raised-button aria-label="15 Minuten abziehen"
                            (click)="addMinutesToJob(-15,selectedJobIndex, true, selectedJobList)">
                        -15 min
                    </button>
                    <button mat-raised-button aria-label="15 Minuten abziehen"
                            (click)="addMinutesToJob(15,selectedJobIndex, true, selectedJobList)">
                        +15 min
                    </button>
                    <button mat-raised-button aria-label="1 Stunde abziehen"
                            (click)="addMinutesToJob(60,selectedJobIndex, true, selectedJobList)">
                        +1 h
                    </button>
                </div>
            </mat-step>
        </mat-stepper>
    </div>
    <div *ngIf="showAdditionalJobs">
        <div formGroupName="additionalJob">
            <mat-form-field appearance="fill" style="width:80vw">
                <mat-label>Beschreibung</mat-label>
                <input class="form-control" formControlName="description" matInput>
                <mat-hint>{{getMinutesFromAdditionalJob()}}</mat-hint>
            </mat-form-field>
        </div>
        <div fxLayout="row" fxLayoutAlign="space-between center" fxFlexFill formGroupName="additionalJob"
             class="additional-hours">
            <button mat-raised-button aria-label="1 Stunde abziehen"
                    (click)="addMinutesToAdditionalJob(-60)">
                -1 h
            </button>
            <button mat-raised-button aria-label="15 Minuten abziehen"
                    (click)="addMinutesToAdditionalJob(-15)">
                -15 min
            </button>
            <button mat-raised-button aria-label="15 Minuten abziehen"
                    (click)="addMinutesToAdditionalJob(15)">
                +15 min
            </button>
            <button mat-raised-button aria-label="1 Stunde abziehen"
                    (click)="addMinutesToAdditionalJob(60)">
                +1 h
            </button>
        </div>
    </div>
</div>
<div mat-dialog-actions>
    <button mat-button (click)="onCancelClick()">Abbrechen</button>
    <button [disabled]="confirmDisabled" mat-button (click)="onConfirmClick()">Speichern</button>
</div>
